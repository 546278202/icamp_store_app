<!--index.wxml-->
<view class="page" style="background-color:{{pageBackgroundColor}}">
    <view class="container">
        <van-search value="{{ searchValue }}" placeholder-style="color: #696969;font-size: 12px;" placeholder="搜索热门营会／主题营会" shape="round" use-action-slot bind:search="onSearch" bind:focus="onFocus" bind:change="onSearchChange" show-action>
            <view slot="action" shape bindtap="onSearchCancel" style="color: #696969;font-size: 14px;">{{searchText}}
            </view>
        </van-search>
        <view wx:if="{{searchModel}}" style="background: #fff;height: 100%;padding:15px;display:flex;flex-direction: column;font-weight:400;">
            <view style="color:#696969;font-size: 14px;margin-bottom:10px;">热门搜索 </view>
            <navigator hover-class="none" url="../productCate/index?id={{item.id}}" style="color:#303030;font-size: 12px;margin-bottom:8px;display:flex;align-items: center;" wx:for="{{GoodsList}}" wx:for-item="item" wx:for-index='index'>
                <view wx:if="{{index==0}}" class="search-1">{{index+1}}</view>
                <view wx:elif="{{index==1}}" class="search-2">{{index+1}}</view>
                <view wx:elif="{{index==2}}" class="search-3">{{index+1}}</view>
                <view wx:elif="{{index>2}}" class="search-4">{{index+1}}</view>
                <text>{{item.name}}</text>
            </navigator>
        </view>
        <view wx:else>
            <view style="padding:5px 12px 12px 12px;background: #fff;">
                <swiper indicator-dots="true" autoplay="true" circular="true" interval="5000" duration="500" height="200">
                    <block wx:for="{{imgUrls}}">
                        <swiper-item>
                            <image src="{{item}}" class="slide-image" />
                        </swiper-item>
                    </block>
                </swiper>
            </view>

            <view style="background: #fff;margin-bottom:10px;">
                <view style="display:flex;padding-bottom:30rpx;">
                    <navigator hover-class="none" url="../product/index?title={{item.name}}" style="display:flex;flex:1;flex-direction:column;align-items: center;font-size:12px; color:#303030" wx:for="{{imgUrls2}}" wx:for-item="item" wx:for-index='index'>
                        <image src="{{item.src}}" class="" style="width:60px;height:60px;" />
                        <view>{{item.name}}</view>
                    </navigator>
                </view>
                <view style="display:flex;padding-bottom:30rpx;">
                    <navigator hover-class="none" url="../product/index?title={{item.name}}" style="display:flex;flex:1;flex-direction:column;align-items: center;font-size:12px; color:#303030" wx:for="{{imgUrls3}}" wx:for-item="item" wx:for-index='index'>
                        <image src="{{item.src}}" class="" style="width:60px;height:60px;" />
                        <view>{{item.name}}</view>
                    </navigator>
                </view>

            </view>
            <!-- 导航 -->
            <van-tabs animated color="#6C68DF" active="{{ active }}" bind:change="onChange" line-width="30">
                <van-tab title="推荐">
                    <navigator hover-class="none" url="../productCate/index?id={{item.id}}" wx:for="{{GoodsList}}" wx:for-item="item" wx:for-index='index' style="background: #fff; margin:15px 15px 0px 15px;border-radius:8px;overflow: hidden;box-shadow:0px 3px 6px 0px rgba(233,233,233,1);">
                        <view style="position:relative;">
                            <image src="{{item.icon}}" style="width:100%;height:190px;" mode='aspectFill' />
                            <view style="position: absolute;left:0;bottom:0;width:100%;font-size: 14px;color:#fff;padding:15px 15px 15px 15px;">
                                <test style="font-size:18px;">7~18</test>岁 单个学生
                            </view>
                        </view>
                        <view style="color:#484848;font-size:15px;font-weight:600;padding:15px 15px 0 15px;">
                            {{item.name}} </view>
                        <view style="color:#505050;font-size:14px;padding:0 15px 10px 15px;">{{item.keyWords}}</view>
                    </navigator>
                </van-tab>
                <van-tab title="最新">
                    <navigator hover-class="none" url="../productCate/index?id={{item.id}}" wx:for="{{GoodsList}}" wx:for-item="item" wx:for-index='index' style="background: #fff; margin:15px 15px 0px 15px;border-radius:8px;overflow: hidden;box-shadow:0px 3px 6px 0px rgba(233,233,233,1);">
                        <view style="position:relative;">
                            <image src="{{item.icon}}" style="width:100%;height:190px;" mode='aspectFill' />
                            <view style="position: absolute;left:0;bottom:0;width:100%;font-size: 14px;color:#fff;padding:15px 15px 15px 15px;">
                                <test style="font-size:18px;">7~18</test>岁 单个学生
                            </view>
                        </view>
                        <view style="color:#484848;font-size:15px;font-weight:600;padding:15px 15px 0 15px;">
                            {{item.name}} </view>
                        <view style="color:#505050;font-size:14px;padding:0 15px 10px 15px;">{{item.keyWords}}</view>
                    </navigator>
                </van-tab>
                <van-tab title="最热">
                    <navigator hover-class="none" url="../productCate/index?id={{item.id}}" wx:for="{{GoodsList}}" wx:for-item="item" wx:for-index='index' style="background: #fff; margin:15px 15px 0px 15px;border-radius:8px;overflow: hidden;box-shadow:0px 3px 6px 0px rgba(233,233,233,1);">
                        <view style="position:relative;">
                            <image src="{{item.icon}}" style="width:100%;height:190px;" mode='aspectFill' />
                            <view style="position: absolute;left:0;bottom:0;width:100%;font-size: 14px;color:#fff;padding:15px 15px 15px 15px;">
                                <test style="font-size:18px;">7~18</test>岁 单个学生
                            </view>
                        </view>
                        <view style="color:#484848;font-size:15px;font-weight:600;padding:15px 15px 0 15px;">
                            {{item.name}} </view>
                        <view style="color:#505050;font-size:14px;padding:0 15px 10px 15px;">{{item.keyWords}}</view>
                    </navigator>
                </van-tab>
            </van-tabs>
            <view wx:if="{{loadingState}}" style="padding:15px 15px 0 15px;display:flex;align-items: center;justify-content: center;">
                <van-loading size="20px"></van-loading>
                <text style=" margin-left: 8px;color: #969799; font-size: 14px; vertical-align: middle; display: inline-block;">加载中...</text>
            </view>
            <van-divider wx:else contentPosition="center" customStyle=";padding:0 15px;color: #969799; font-size: 14px;">已加载完毕</van-divider>
        </view>
    </view>
</view>